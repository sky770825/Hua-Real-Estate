# ğŸš€ å¿«é€Ÿéƒ¨ç½²æŒ‡å— - ä¸€éµéƒ¨ç½² Cloudflare Worker

## æ–¹æ³• 1ï¼šä½¿ç”¨è‡ªå‹•åŒ–è…³æœ¬ï¼ˆæ¨è–¦ï¼‰â­

### Windows ç”¨æˆ¶ï¼š

1. **é›™æ“Šé‹è¡Œ** `deploy-worker.bat`
2. å¦‚æœå°šæœªå®‰è£ Wranglerï¼Œè…³æœ¬æœƒæç¤ºæ‚¨å®‰è£
3. å¦‚æœå°šæœªç™»éŒ„ï¼Œè…³æœ¬æœƒæç¤ºæ‚¨ç™»éŒ„
4. è…³æœ¬æœƒè‡ªå‹•å‰µå»ºé…ç½®ä¸¦éƒ¨ç½²

### Mac/Linux ç”¨æˆ¶ï¼š

1. **æ‰“é–‹çµ‚ç«¯**ï¼Œé€²å…¥é …ç›®ç›®éŒ„
2. **é‹è¡Œè…³æœ¬**ï¼š
   ```bash
   chmod +x deploy-worker.sh
   ./deploy-worker.sh
   ```
3. å¦‚æœå°šæœªå®‰è£ Wranglerï¼Œè…³æœ¬æœƒæç¤ºæ‚¨å®‰è£
4. å¦‚æœå°šæœªç™»éŒ„ï¼Œè…³æœ¬æœƒæç¤ºæ‚¨ç™»éŒ„
5. è…³æœ¬æœƒè‡ªå‹•å‰µå»ºé…ç½®ä¸¦éƒ¨ç½²

---

## æ–¹æ³• 2ï¼šä½¿ç”¨ npm è…³æœ¬

### æ­¥é©Ÿï¼š

1. **å®‰è£ä¾è³´**ï¼ˆå¦‚æœé‚„æ²’æœ‰ï¼‰ï¼š
   ```bash
   npm install
   ```

2. **ç™»éŒ„ Cloudflare**ï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰ï¼š
   ```bash
   npm run login
   ```
   é€™æœƒæ‰“é–‹ç€è¦½å™¨ï¼Œè®“æ‚¨ç™»éŒ„ Cloudflare å¸³æˆ¶

3. **éƒ¨ç½² Worker**ï¼š
   ```bash
   npm run deploy
   ```

4. **è¤‡è£½ Worker URL**ï¼š
   - éƒ¨ç½²æˆåŠŸå¾Œï¼Œæœƒé¡¯ç¤º Worker çš„ URL
   - æ ¼å¼é¡ä¼¼ï¼š`https://r2-upload.your-subdomain.workers.dev`

5. **é…ç½®å‰ç«¯**ï¼š
   - æ‰“é–‹ `invite.html`
   - æ‰¾åˆ° `R2_CONFIG`ï¼ˆç´„ç¬¬ 3047 è¡Œï¼‰
   - è¨­ç½® `apiEndpoint` ç‚º Worker URL

---

## æ–¹æ³• 3ï¼šæ‰‹å‹•éƒ¨ç½²ï¼ˆå¦‚æœè…³æœ¬ä¸å·¥ä½œï¼‰

### æ­¥é©Ÿï¼š

1. **å®‰è£ Wrangler CLI**ï¼š
   ```bash
   npm install -g wrangler
   ```
   æˆ–ä½¿ç”¨ npxï¼ˆä¸éœ€è¦å…¨å±€å®‰è£ï¼‰ï¼š
   ```bash
   npx wrangler deploy
   ```

2. **ç™»éŒ„ Cloudflare**ï¼š
   ```bash
   wrangler login
   ```

3. **ç¢ºèªé…ç½®æ–‡ä»¶**ï¼š
   - ç¢ºä¿ `wrangler.toml` æ–‡ä»¶å­˜åœ¨
   - ç¢ºä¿ `r2-upload-worker.js` æ–‡ä»¶å­˜åœ¨

4. **éƒ¨ç½²**ï¼š
   ```bash
   wrangler deploy
   ```

5. **é…ç½®å‰ç«¯**ï¼š
   - è¤‡è£½éƒ¨ç½²å¾Œçš„ Worker URL
   - åœ¨ `invite.html` ä¸­è¨­ç½® `apiEndpoint`

---

## é©—è­‰éƒ¨ç½²

éƒ¨ç½²æˆåŠŸå¾Œï¼Œæ‚¨æ‡‰è©²çœ‹åˆ°é¡ä¼¼ä»¥ä¸‹çš„è¼¸å‡ºï¼š

```
âœ¨  Compiled Worker successfully
âœ¨  Success! Published the following Worker:
   https://r2-upload.your-subdomain.workers.dev
```

---

## å¸¸è¦‹å•é¡Œ

### Q: æç¤º "æœªæª¢æ¸¬åˆ° Wrangler CLI"
**A:** è«‹å…ˆå®‰è£ Wranglerï¼š
```bash
npm install -g wrangler
```

### Q: æç¤º "å°šæœªç™»éŒ„ Cloudflare"
**A:** è«‹å…ˆç™»éŒ„ï¼š
```bash
wrangler login
```

### Q: éƒ¨ç½²å¤±æ•—ï¼Œæç¤º R2 å­˜å„²æ¡¶ä¸å­˜åœ¨
**A:** è«‹ç¢ºèªï¼š
1. å­˜å„²æ¡¶åç¨±æ˜¯ `hua-real-estate`
2. æ‚¨æœ‰è©²å­˜å„²æ¡¶çš„è¨ªå•æ¬Šé™
3. åœ¨ Cloudflare Dashboard ä¸­ç¢ºèªå­˜å„²æ¡¶å­˜åœ¨

### Q: å¦‚ä½•æ›´æ–° Workerï¼Ÿ
**A:** ç›´æ¥å†æ¬¡é‹è¡Œéƒ¨ç½²å‘½ä»¤å³å¯ï¼š
```bash
npm run deploy
```
æˆ–
```bash
wrangler deploy
```

---

## å®Œæˆå¾Œ

éƒ¨ç½²æˆåŠŸå¾Œï¼Œè¨˜å¾—ï¼š
1. âœ… è¤‡è£½ Worker URL
2. âœ… åœ¨ `invite.html` ä¸­é…ç½® `apiEndpoint`
3. âœ… æ¸¬è©¦ä¸Šå‚³åŠŸèƒ½

ç¾åœ¨æ‚¨å°±å¯ä»¥ä½¿ç”¨åœ–ç‰‡ä¸Šå‚³åŠŸèƒ½äº†ï¼ğŸ‰
